# 第十二届蓝桥杯省赛（软件类）A组题解

## A 卡片

直接模拟，一遍循环从1开始枚举，直到找到一个不能用剩余卡片拼出的数。

## B 直线

枚举区域内的任意两点，计算其确定的直线的斜率和截距，用map对这样的组进行标记，每有一个不同的组答案加1

## C 货物摆放

首先分解质因数$n=x_1^{p_1}*x_2^{p_2}*x_3^{p_3}*...*x_k^{p_k}$

根据排列组合隔板法：$ans = \prod_{i=1}^kC_{p_i+2}^2$

## D 路径

dijkstra模板题，注意$lcm(x,y) = x * y / gcd(x,y)$即可

## E 回路计数

此题考查状压dp，用二进制状态来记录当前经过的所有教学楼。

$dp[i][j]$表示当前处于状态i，且最后一个经过的教学楼是j

则有状态转移方程$dp[t][k] += dp[i][j]$

其中$t = i | (1 << (k-1))$ ,且$gcd(j,k)=1$，i的从右往左第k位不为1

初始化$dp[1][1]=1$

## F 砝码称重

动态规划，类似背包，用dp[i]表示重量为i的物品能否被称出。

状态转移方程$dp[j] = dp[j] | dp[j - a[i]]$(要倒叙循环j)

​						$dp[j] = dp[j]|dp[j+a[i]]$ (要正序循环j)

## G 异或数列

令$cnt=x_1 xor x_2 xor x_3 xor... x_n$

如果cnt为0，那么此时无论两人如何决策，他们最后的得分都是相同的，为平局

如果cnt不为0，那么二进制cnt至少有一位不为0，采用最优策略的两人一定会争夺这一位的归属，设cnt最高的非0为是第k位，那么先手要尽可能让自己选数时还剩下奇数个第k位为1的数，同时可以选择一个第k位为0的数，将自身的不利局面转嫁给对手，那么我们可以得出结论，只要n为奇数，先手就有必胜策略，同时我们要考虑一种特殊情况，如果一开始场上只有一个数第k位为1，那么先手拿走这个数他就赢得了游戏。

## H 左孩子右兄弟

此题考查树形dp，dp[i]表示以i为根节点的子树的最大高度

则有状态转移方程：$dp[i] = max(dp[i],dp[son]+size[i])$，其中size[i]表示与i直接相连的子节点个数